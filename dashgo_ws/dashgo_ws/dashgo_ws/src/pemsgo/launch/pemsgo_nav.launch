<?xml version="1.0"?>
<launch>

  <node name="OdomSIM" pkg="pemsgo" type="pemsgo_sim.py" output="screen" respawn = "true">
      <rosparam file="$(find pemsgo)/params/pemsgo_params_imu.yaml" command="load" />
  </node>

  <include file="$(find pathgo_imu)/launch/demo.launch"/>
  <include file="$(find pemsgo)/launch/robot_pose_ekf.launch"/>

  <node pkg="pemsgo"  name="ab_pub_app"  type="ab_pub_app.py"  output="screen" />
  
  <!-- static_t_f args = "x y z yaw pitch roll frame_id laser_id period_in_ms" -->

  <include file="$(find dashgo_description)/launch/dashgo_description.launch"/>
  
  <!-- nav nodes -->
  <arg name="map_file" default="$(find pemsgo)/nav/maps/site_testoffice.yaml"/>
  <node name="map_server" pkg="map_server" type="map_server" args="$(arg map_file)" />
 
  <!--
  <include file="$(find pemsgo)/nav/nav_imu/amcl.launch.xml">
    <arg name="initial_pose_x" value="0.0"/>
    <arg name="initial_pose_y" value="0.0"/>
    <arg name="initial_pose_a" value="0.0"/>
  </include>
  <include file="$(find pemsgo)/nav/nav_imu/teb_move_base.launch"/>
  -->

  <include file="$(find world_canvas_server)/launch/world_canvas_server.launch" />
  <node pkg='tf' type="static_transform_publisher" name="odom_to_map"
    args="0 0 0 0 0 0 /odom_combined /map 10" />
  
  <node name="robot_pose_publisher" pkg="robot_pose_publisher" type="robot_pose_publisher" />

  <!-- node name="rviz" pkg="rviz" type="rviz" args="-d $(find pemsgo)/rviz/maps.rviz" / -->
  
</launch>
